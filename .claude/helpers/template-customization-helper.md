# テンプレートカスタマイズヘルパー

## 目的

プロジェクトの規模・ユーザーの要望に応じて、ドキュメントテンプレートを**適切な粒度に調整**するヘルパーです。

---

## 基本方針

### テンプレートの基準

`.claude/docs/30_templates/` のテンプレートは、**受託開発納品レベル**を基準に作成されています。

**理由:**
- 詳細→簡素への調整は容易（削るだけ）
- 簡素→詳細への調整は困難（何を追加すべきか不明確）
- プロジェクトによって必要な粒度は大きく異なる

### 実運用での調整

実際のプロジェクトでは、**ユーザーと相談しながら削る**ことを前提とします。

---

## プロジェクト規模別の調整指針

### 1. 小規模・個人開発

**特徴:**
- 1-2人、1-3ヶ月
- 個人開発、PoC、MVP
- ドキュメントは最小限

**調整方針:**
- 企画書: 背景・目的・スコープのみ（2-3ページ）
- 要件定義書: 主要機能のユーザーストーリーのみ
- 設計書: システム構成図＋技術スタックのみ
- 詳細な非機能要件・テーブル定義等は省略

**削除候補セクション:**
- ステークホルダー分析
- 詳細なKPI設定
- リスク分析
- 移行要件
- 運用手順書

### 2. 中規模・チーム開発

**特徴:**
- 3-5人、3-6ヶ月
- スタートアップ、社内システム
- ドキュメントは必要最小限

**調整方針:**
- 企画書: 背景・目的・スコープ・主要機能（5-10ページ）
- 要件定義書: 機能要件＋主要な非機能要件
- 設計書: システム構成＋DB設計＋API設計
- チーム内で共有が必要な部分を中心に

**削除候補セクション:**
- 詳細なステークホルダー分析
- ROI計算
- 移行計画（新規開発の場合）
- 詳細な運用手順

### 3. 大規模・受託開発

**特徴:**
- 6人以上、6ヶ月以上
- 受託開発、エンタープライズ
- 納品物として詳細なドキュメント必須

**調整方針:**
- テンプレートをほぼそのまま使用
- 必要に応じてセクション追加（業界特有要件等）

**追加検討セクション:**
- 業界規制対応（医療、金融等）
- 詳細な移行計画
- 災害対策・BCP
- 詳細な運用手順書

---

## Claude の動作フロー

### ステップ1: プロジェクト規模の確認

ドキュメント生成前に、以下を確認:

```
「ドキュメントの詳細度を決めたいので、以下を教えてください：

1. プロジェクト規模:
   - チームサイズ: 何人？
   - 期間: どれくらい？
   - 予算感: （言える範囲で）

2. 目的:
   - 個人開発・PoC
   - チーム開発・社内システム
   - 受託開発・納品物

3. ドキュメントの用途:
   - 開発メモ程度でOK
   - チーム内共有が必要
   - クライアント納品が必要
```

### ステップ2: 詳細度レベルの提案

ユーザー回答を基に、適切なレベルを提案:

```
「このプロジェクトは{中規模・チーム開発}と判断しました。

以下のレベルで作成しますが、よろしいですか？

【レベル2: 標準（チーム開発レベル）】
- 企画書: 背景・目的・スコープ・主要機能（簡潔に）
- 要件定義書: 機能要件＋主要な非機能要件
- 設計書: システム構成＋DB設計＋API設計

もっと詳細にしたい、または簡素にしたい場合はお知らせください。
```

### ステップ3: テンプレートのカスタマイズ

決定したレベルに応じて、テンプレートを調整:

- **レベル1（最小限）**: 各ドキュメント3-5セクション程度
- **レベル2（標準）**: 各ドキュメント7-10セクション程度
- **レベル3（詳細）**: テンプレート通り（10-15セクション）

### ステップ4: 途中での調整

ドキュメント生成後、ユーザーからのフィードバックで調整:

```
「このセクションは不要です」 → 削除
「ここをもっと詳しく」 → 詳細化
```

---

## セクション別の重要度

### 企画書

| セクション | レベル1 | レベル2 | レベル3 |
|-----------|--------|--------|--------|
| プロジェクト概要 | ✅ | ✅ | ✅ |
| 背景と目的 | ✅ | ✅ | ✅ |
| スコープ | ✅ | ✅ | ✅ |
| 主要機能 | ✅ | ✅ | ✅ |
| ステークホルダー | - | ✅ | ✅ |
| ビジネス価値・KPI | - | ✅ | ✅ |
| スケジュール | - | ✅ | ✅ |
| リスク分析 | - | - | ✅ |
| ROI計算 | - | - | ✅ |

### 要件定義書

| セクション | レベル1 | レベル2 | レベル3 |
|-----------|--------|--------|--------|
| ビジネス要件 | ✅ | ✅ | ✅ |
| ユーザーストーリー | ✅ | ✅ | ✅ |
| 機能要件概要 | ✅ | ✅ | ✅ |
| 機能要件詳細 | - | ✅ | ✅ |
| 非機能要件（主要） | - | ✅ | ✅ |
| 非機能要件（詳細） | - | - | ✅ |
| データモデル | - | ✅ | ✅ |
| 外部IF要件 | - | - | ✅ |
| 移行要件 | - | - | ✅ |

### 設計書

| セクション | レベル1 | レベル2 | レベル3 |
|-----------|--------|--------|--------|
| システム構成図 | ✅ | ✅ | ✅ |
| 技術スタック | ✅ | ✅ | ✅ |
| アーキテクチャ | - | ✅ | ✅ |
| ディレクトリ構成 | - | ✅ | ✅ |
| DB設計 | - | ✅ | ✅ |
| API設計 | - | ✅ | ✅ |
| インフラ設計 | - | - | ✅ |
| CI/CD設計 | - | - | ✅ |
| 監視・ロギング | - | - | ✅ |
| セキュリティ詳細 | - | - | ✅ |

---

## 実装例

### 企画書（レベル1: 最小限）

```markdown
# 企画書

## 1. プロジェクト概要
{プロジェクト名、目的}

## 2. 背景
{なぜ作るか}

## 3. スコープ
- 含むもの: {リスト}
- 含まないもの: {リスト}

## 4. 主要機能
{3-5個の機能概要}

## 5. スケジュール
{ざっくりとしたマイルストーン}
```

### 企画書（レベル3: 詳細）

テンプレート通り（全10セクション、詳細項目含む）

---

## 関連ドキュメント

- [30_templates/README.md](../.claude/docs/30_templates/README.md) - テンプレート一覧
- [15_document-generation-flow.md](../.claude/docs/10_facilitation/15_document-generation-flow.md) - ドキュメント生成フロー
